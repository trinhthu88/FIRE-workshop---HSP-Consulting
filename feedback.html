<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Workshop Feedback Survey</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: #f4f4f9;
    }
    .survey-section {
      margin: 20px auto;
      padding: 20px;
      background: #fff;
      max-width: 800px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      color: #333;
    }
    p {
      font-weight: bold;
      margin-top: 15px;
    }
    small {
      display: block;
      font-weight: normal;
      color: #555;
      margin-top: 4px;
    }
    label {
      display: block;
      margin: 8px 0;
    }
    input[type="radio"] {
      margin-right: 8px;
    }
    textarea {
      width: 100%;
      padding: 10px;
      margin: 5px 0;
      border: 1px solid #ccc;
      border-radius: 4px;
      resize: vertical;
    }
    button {
      display: block;
      width: 100%;
      padding: 10px;
      background-color: #28a745;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 20px;
    }
    button:hover {
      background-color: #218838;
    }
    #result-section {
      text-align: center;
      margin-top: 20px;
      padding: 15px;
      background: #e9f5e9;
      border-radius: 4px;
      display: none;
    }
  </style>
</head>
<body>
  <h2>Workshop Feedback Survey</h2>
  <div class="survey-section">
    <!-- Form using your Formspree endpoint -->
    <form id="feedback-form" action="https://formspree.io/f/xjkywjvd" method="POST">
      <!-- Hidden fields for contact info -->
      <input type="hidden" name="contactName" id="contactName">
      <input type="hidden" name="contactEmail" id="contactEmail">
      <input type="hidden" name="_captcha" value="false">
      
      <!-- Overall Experience -->
      <p>1. Overall, how satisfied were you with the workshop?</p>
      <small>Tổng quan, bạn hài lòng đến mức nào với buổi hội thảo?</small>
      <label><input type="radio" name="overallSatisfaction" value="Very Satisfied" required> Very Satisfied / Rất hài lòng</label>
      <label><input type="radio" name="overallSatisfaction" value="Satisfied"> Satisfied / Hài lòng</label>
      <label><input type="radio" name="overallSatisfaction" value="Neutral"> Neutral / Trung lập</label>
      <label><input type="radio" name="overallSatisfaction" value="Unsatisfied"> Unsatisfied / Không hài lòng</label>
      <label><input type="radio" name="overallSatisfaction" value="Very Unsatisfied"> Very Unsatisfied / Rất không hài lòng</label>
      
      <p>2. Did the workshop meet your expectations?</p>
      <small>Buổi hội thảo có đáp ứng kỳ vọng của bạn không?</small>
      <label><input type="radio" name="expectationsMet" value="Yes" required> Yes / Có</label>
      <label><input type="radio" name="expectationsMet" value="Somewhat"> Somewhat / Một phần</label>
      <label><input type="radio" name="expectationsMet" value="No"> No / Không</label>
      
      <!-- Content and Delivery -->
      <p>3. How would you rate the quality of the workshop content?</p>
      <small>Bạn đánh giá chất lượng nội dung buổi hội thảo như thế nào?</small>
      <label><input type="radio" name="contentQuality" value="Excellent" required> Excellent / Xuất sắc</label>
      <label><input type="radio" name="contentQuality" value="Good"> Good / Tốt</label>
      <label><input type="radio" name="contentQuality" value="Average"> Average / Trung bình</label>
      <label><input type="radio" name="contentQuality" value="Poor"> Poor / Kém</label>
      <label><input type="radio" name="contentQuality" value="Very Poor"> Very Poor / Rất kém</label>
      
      <p>4. Was the material presented in a clear and organized manner?</p>
      <small>Liệu nội dung có được trình bày một cách rõ ràng và có tổ chức không?</small>
      <label><input type="radio" name="presentationClarity" value="Yes" required> Yes / Có</label>
      <label><input type="radio" name="presentationClarity" value="No"> No / Không</label>
      
      <p>5. How relevant was the workshop content to your needs?</p>
      <small>Nội dung buổi hội thảo có phù hợp với nhu cầu của bạn không?</small>
      <label><input type="radio" name="contentRelevance" value="Highly Relevant" required> Highly Relevant / Rất phù hợp</label>
      <label><input type="radio" name="contentRelevance" value="Somewhat Relevant"> Somewhat Relevant / Phần nào phù hợp</label>
      <label><input type="radio" name="contentRelevance" value="Not Very Relevant"> Not Very Relevant / Không phù hợp lắm</label>
      <label><input type="radio" name="contentRelevance" value="Not Relevant At All"> Not Relevant At All / Hoàn toàn không phù hợp</label>
      
      <!-- Impact and Takeaways -->
      <p>6. What is the most valuable takeaway you gained from the workshop?</p>
      <small>Bạn thu được bài học giá trị nhất nào từ buổi hội thảo?</small>
      <textarea name="valuableTakeaway" rows="3" placeholder="Your answer / Câu trả lời của bạn" required></textarea>
      
      <p>7. How likely are you to apply the concepts or skills you learned?</p>
      <small>Bạn có khả năng áp dụng những kiến thức hay kỹ năng học được không?</small>
      <label><input type="radio" name="applyConcepts" value="Very Likely" required> Very Likely / Rất có khả năng</label>
      <label><input type="radio" name="applyConcepts" value="Likely"> Likely / Có khả năng</label>
      <label><input type="radio" name="applyConcepts" value="Neutral"> Neutral / Trung lập</label>
      <label><input type="radio" name="applyConcepts" value="Unlikely"> Unlikely / Không khả năng</label>
      <label><input type="radio" name="applyConcepts" value="Very Unlikely"> Very Unlikely / Rất không khả năng</label>
      
      <p>8. How likely are you to recommend this workshop to a colleague or friend?</p>
      <small>Bạn có khả năng giới thiệu buổi hội thảo này cho đồng nghiệp hay bạn bè không?</small>
      <label><input type="radio" name="recommendation" value="10" required> 10 / 10</label>
      <label><input type="radio" name="recommendation" value="9"> 9 / 9</label>
      <label><input type="radio" name="recommendation" value="8"> 8 / 8</label>
      <label><input type="radio" name="recommendation" value="7"> 7 / 7</label>
      <label><input type="radio" name="recommendation" value="6"> 6 / 6</label>
      <label><input type="radio" name="recommendation" value="5"> 5 / 5</label>
      <label><input type="radio" name="recommendation" value="4"> 4 / 4</label>
      <label><input type="radio" name="recommendation" value="3"> 3 / 3</label>
      <label><input type="radio" name="recommendation" value="2"> 2 / 2</label>
      <label><input type="radio" name="recommendation" value="1"> 1 / 1</label>
      
      <!-- Suggestions for Improvement -->
      <p>9. What aspects of the workshop could be improved?</p>
      <small>Những khía cạnh nào của buổi hội thảo cần cải thiện?</small>
      <textarea name="improvementSuggestions" rows="3" placeholder="Your suggestions / Gợi ý của bạn" required></textarea>
      
      <p>10. What additional topics or areas would you like to see covered in future workshops?</p>
      <small>Bạn mong muốn xem thêm những chủ đề hay lĩnh vực nào trong các buổi hội thảo sắp tới?</small>
      <textarea name="futureTopics" rows="3" placeholder="Your ideas / Ý tưởng của bạn" required></textarea>
      
      <!-- Additional Comments -->
      <p>11. Any other feedback or comments?</p>
      <small>Bạn có nhận xét hay góp ý gì khác không?</small>
      <textarea name="additionalComments" rows="3" placeholder="Your comments / Nhận xét của bạn"></textarea>
      
      <button type="submit">Submit Feedback / Gửi phản hồi</button>
    </form>
  </div>
  
  <div id="result-section">
    <h3>Thank you for your feedback!</h3>
  </div>
  
  <script>
    // When the page loads, check if contact info exists; if not, redirect to index.html.
    window.onload = function() {
      const contactName = localStorage.getItem('contactName');
      const contactEmail = localStorage.getItem('contactEmail');
      if (!contactName || !contactEmail) {
        alert("Please fill in your contact information on the landing page first.");
        window.location.href = "index.html";
      } else {
        document.getElementById('contactName').value = contactName;
        document.getElementById('contactEmail').value = contactEmail;
      }
    };
    
    // Intercept form submission to send data via AJAX using Formspree.
    document.getElementById("feedback-form").addEventListener("submit", function(e) {
      e.preventDefault();
      const form = e.target;
      fetch(form.action, {
        method: "POST",
        body: new FormData(form),
        headers: { "Accept": "application/json" }
      }).then(response => {
        if (response.ok) {
          form.style.display = "none";
          document.getElementById("result-section").style.display = "block";
        } else {
          alert("There was an issue submitting your feedback. Please try again.");
        }
      }).catch(error => {
        alert("Submission error. Please try again.");
      });
    });
  </script>
</body>
</html>
